<html>
    <!-- Meta Tags and other stuff. -->
    <meta name="authors" content="Jesse Hasty">
    <meta name="keywords" content="Intellistar, Weather Channel, Local Forecast">
    <title>Intellistar</title>
    <meta charset="UTF-8"> <!-- charset is set to UTF-8 for Japanese and Hebrew character support. -->  
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Scripts -->
    <script type="text/javascript" src="./js/config.js"></script>
    <script type="text/javascript" src="./js/script.js"></script>
    <script type="text/javascript" src="./js/alerts.js"></script>
    <script type="text/javascript" src="./js/forecast.js"></script>
    <script type="text/javascript" src="./js/radar.js"></script>
        <!-- CSS -->
    <link rel="stylesheet" href="./css/intelli.css">
</html>
<body>
    <!-- The Current Conditions Section.  -->
    <div class="container">
        <img style="width: 729px; height: 547px;" src="./images/bg/bg1.png">
        <div id="nextslide" style="position: absolute;">
        <img class="panel" src="./images/panels/cc.png" style="opacity: 89.33%; position: absolute;">
        <div class="slideplaceholder">Now</div>
        <button id="nextslidebutton" onclick="myFunction()" style="height: fit-content;">Next Slide</button> 
        <audio style="width: 0px; position: absolute;" controls autoplay>
            <source id="music" src="./narrations/Your_current_conditions.mp3" style="position: absolute;" type="audio/wav">
            </audio>
        <!-- City Name -->
            <div class="city" id="cityn">WASHINGTON</div>
            <div id="icon" class="iconc">
                <img src="./images/icons/2010/26.png">
            </div>
            <!-- Left Side -->
           <div class="cond" id="condition">Clear</div>
           <div class="temperature" id="temp">28</div>
                 <!-- Right Side -->
                 <!-- Humidity -->
                 <div  class="rightcontainer">
                 <div class="name">HUMIDITY</div>
                 <div id="humidity" class="value">83%</div>
                 <!-- Dew Point -->
                 <div class="name" style="margin-top: 60px; display: flex; margin-right: 15px; font-size: 22px; width: 250px;">DEW POINT</div>
                 <div id="dewpoint" style="margin-top: 50px;" class="value">25&deg;</div>
                 <!-- Pressure -->
                 <div class="name" style="margin-top: 107px; display: flex; margin-right: 15px; font-size: 22px; width: fit-content;">PRESSURE</div>
                 <div id="pressure" style="margin-top: 100px;" class="value">30.31 <div class="small">INCHES</div>S</div>
                 <div class="name" style="margin-top: 153px; display: flex; margin-right: 15px; font-size: 22px; width: fit-content;">VISIBILITY</div>
                 <div id="visibility" style="margin-top: 144px;" class="value">10<div class="small">MILES</div></div>
                 <div class="name" style="margin-top: 198px; display: flex; margin-left: 65px; font-size: 22px; width: fit-content;">WIND</div>
                 <div id="wind" style="margin-top: 191px; width: 277px;" class="value">NE 1</div>
                 <div class="name" style="margin-top: 246px; display: flex; margin-left: 50px; font-size: 22px; width: fit-content;">GUSTS</div>
                 <div id="gusts" style="margin-top: 236px; width: 133px;" class="value">None</div>
                 <div class="name" style="margin-top: 292px; display: flex; margin-left: -10px; font-size: 22px; width: 250px;">FEELS LIKE</div>
                 <div id="feelslike" style="margin-top: 283px; width: 133px;" class="value">28&deg;</div>
                 </div>
                </div>
                <div class="radarcontainer" id="radarslide">
                    <div id="mapboxmap"></div>
                    <div class="mosaicthing" id="radarimagery"></div>
                    <button id="forecastslidebutton" style="position: absolute;" onclick="forecastslide()">Next Slide.</button>
                    <img class="radarpanel" src="./images/panels/radarpanel.png"></img>
                    <div class="slideplaceholder" style="width: 660px; margin-top: 42px;">Regional Radar</div>
                </div>
                <div class="forecastcontainer" id="forecastpanel">
                    <div class="forecastpanel">
                        <div class="slideplaceholder" style="margin-top: -52px; margin-left: 8px; font-size: 38px;">Local Forecast
                        </div>
                        <div class="city" id="citynf" style="top: 4.11px; margin-left: 6px;">WASHINGTON</div>
                        <div class="dayname" id="daypartn1">Tonight</div>
                        <div class="forecast" id="forecast1">Partly cloudy. Low 32. Winds W at 5 to 10 mph.</div>
                         <img src="./images/panels/forecast.png"> 
                        </img>
                        <button id="forecastslidebutton" style="position: absolute;" onclick="forecastslide1()">Next Slide.</button>
                    </div>  
                </div>
                <div class="forecastcontainer" id="forecastpanel1">
                    <div class="forecastpanel">
                        <div class="slideplaceholder" style="margin-top: -52px; margin-left: 8px; font-size: 38px;">Local Forecast</div>
                        <div class="city" id="citynf1" style="top: 4.11px; margin-left: 6px;">WASHINGTON</div>
                        <div class="dayname" id="daypartn2">Tonight</div>
                        <div class="forecast" id="forecast2">Partly cloudy. Low 32. Winds W at 5 to 10 mph.</div>
                         <img src="./images/panels/forecast.png"> 
                        </img>
                    </div>  
                </div>
            </div>
        </div>
        <div class="ldl" id="ldlb">
            <!-- Bottom -->
            <div class="marqueeimg">
                <div class="innerldlimg" id="nmarquee" style="position: absolute;">
                     <div class="alert" id="nwsalert"></div>
                    <marquee class="marquee" id="scrollingmarquee" float="left" scrollamount="6" scrolldelay="100">Today's Bible Verse is John 13:11. For he knew who was going to betray him, and that was why he said not every one was clean.</marquee><img id="marqueebar" class="scroll" src="./images/ldl/LDLBar.png">
                </div>
                <img class="twcimg" id="imageatime" style="position: absolute;" src="./images/twc.png">
                <div id="innertime">
                 <div class="timer" id="time" style="position: absolute; margin-left: 681px;">12:00</div>
                </img>
            </div>
    </div>
    </div>
</body>
<audio style="width: 0px;" controls autoplay>
<source id="music" src="./music//Winter/Once and Again - Snuffy.wav" type="audio/wav">
</audio>
<script>
    function myFunction() {
        document.getElementById('nextslide').style.display = "none"
    document.getElementById("radarslide").style.display = "block"
      console.log('next slide.')
};
function forecastslide() {
   document.getElementById('radarslide').style.display = "none"
   document.getElementById('forecastpanel').style.display = "block"
}
function forecastslide1() {
   document.getElementById('forecastpanel').style.display = "none"
   document.getElementById('forecastpanel1').style.display = "block"
        }

</script>
</script>
<script>
    getTime()
async function getTime() {
let d = new Date();
var hour = d.getHours();
var minute = d.getMinutes()
if (hour >=13) {
 var hour = `${hour -12}`
} if (hour == 0) {
   var hour = `${hour + 12}`
}
if (minute <=9) {
   var minute = `0${minute}`
} 

time.innerHTML = `${hour}:${minute}`
if (alertac !== "null") {
    document.getElementById('time').style.color = "black"
} if (alertac == "null") {
document.getElementById('time').style.color = "white"
} else {
    document.getElementById('time').style.color = "black"
}  
}
getTime();
setInterval(getTime, 5000)
</script>
<script>
    // Fetch Radar title imagery
  map_img = `https://api.mapbox.com/styles/v1/goldbblazez/cl6jfozbb001h15sdx9ze69f7/static/${lon},${lat},7/729x546?access_token=${map_key}`
  radar_url = `https://maps.aerisapi.com/Ok3aWX6hA5NczrIqqEzEz_Jrya0titpdLg7wrKlqqPEafJAbRLsBbMpcRPR5CO/radar/729x546/${lat},${lon},8/latest.png`
    document.getElementById("mapboxmap").innerHTML = `<img style="position: absolute;" src="${map_img}"></img>`
    document.getElementById('radarimagery').innerHTML = `<img style="position: absolute; background-color: transparent;" src="${radar_url}"></img>`
 

</script>   